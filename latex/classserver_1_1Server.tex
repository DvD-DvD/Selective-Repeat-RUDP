\hypertarget{classserver_1_1Server}{}\doxysection{server.\+Server Class Reference}
\label{classserver_1_1Server}\index{server.Server@{server.Server}}


\mbox{\hyperlink{classserver_1_1Server}{Server}} class.  


\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def \mbox{\hyperlink{classserver_1_1Server_a98e62dd471ac478c5262e085ef9ad3f4}{\+\_\+\+\_\+init\+\_\+\+\_\+}} (self, \mbox{\hyperlink{classserver_1_1Server_a90e54106f9c4bd4cd62a7705a5d019be}{self\+\_\+host}}, \mbox{\hyperlink{classserver_1_1Server_a99a7c6d59eea04b2e1ce0289be6e74ae}{self\+\_\+port}}, \mbox{\hyperlink{classserver_1_1Server_a8314ab4305d25bbd620f09b8d4daca82}{target\+\_\+host}}, \mbox{\hyperlink{classserver_1_1Server_a9eb1d678d6792026777e253c453a9185}{target\+\_\+port}}, \mbox{\hyperlink{classserver_1_1Server_a911842589ad5a581bda91315223218c2}{retransmission\+\_\+counter}}, \mbox{\hyperlink{classserver_1_1Server_a1783e2f843763a77f8214a1625fa2ec7}{window\+\_\+size}}, \mbox{\hyperlink{classserver_1_1Server_aae0910a5664e8c5ba948e7ad507ee6d7}{sleep\+\_\+time}}, \mbox{\hyperlink{classserver_1_1Server_ad025a9633751834cd3e41bb0f0f83bef}{serv\+\_\+timeout}}=30, \mbox{\hyperlink{classserver_1_1Server_a64455c0a29d203fcf27ca810dd9696d3}{packet\+\_\+size}}=10024, buffer\+\_\+size=6, \mbox{\hyperlink{classserver_1_1Server_af0267b642e029775fe581b3c238dad85}{body\+\_\+size}}=8000)
\begin{DoxyCompactList}\small\item\em The constructor for the \mbox{\hyperlink{classserver_1_1Server}{Server}} class. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{classserver_1_1Server_a4275b69285af18cc6312dbae8f59ba0a}{send\+\_\+this\+\_\+packet}} (self, packet\+\_\+no)
\begin{DoxyCompactList}\small\item\em send\+\_\+this\+\_\+packet Method \end{DoxyCompactList}\item 
def \mbox{\hyperlink{classserver_1_1Server_a20d2b89e22c9e032155af2bbf0c53527}{listen\+\_\+for\+\_\+ack}} (self)
\begin{DoxyCompactList}\small\item\em listen\+\_\+for\+\_\+ack Method \end{DoxyCompactList}\item 
def \mbox{\hyperlink{classserver_1_1Server_a80517428a6623d6256cc04021c407e4b}{global\+\_\+timer}} (self)
\begin{DoxyCompactList}\small\item\em global\+\_\+timer Method \end{DoxyCompactList}\item 
def \mbox{\hyperlink{classserver_1_1Server_a9d75b9581aca39142e109b5950de18fc}{end\+\_\+connection}} (self)
\begin{DoxyCompactList}\small\item\em end\+\_\+connection Method \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classserver_1_1Server_ac9d05b46ed34fc4148bcb81d5dfdd737}\label{classserver_1_1Server_ac9d05b46ed34fc4148bcb81d5dfdd737}} 
{\bfseries target\+\_\+host}
\item 
\mbox{\Hypertarget{classserver_1_1Server_a664dee2cab9f51842631852845588f18}\label{classserver_1_1Server_a664dee2cab9f51842631852845588f18}} 
{\bfseries target\+\_\+port}
\item 
\mbox{\Hypertarget{classserver_1_1Server_ae73a27bad6d221b71bb96d3ee009c213}\label{classserver_1_1Server_ae73a27bad6d221b71bb96d3ee009c213}} 
{\bfseries self\+\_\+host}
\item 
\mbox{\Hypertarget{classserver_1_1Server_a031a713320e7038cdee3aee45a788231}\label{classserver_1_1Server_a031a713320e7038cdee3aee45a788231}} 
{\bfseries self\+\_\+port}
\item 
\mbox{\Hypertarget{classserver_1_1Server_aa7687748c0774dcf3994a461765e0895}\label{classserver_1_1Server_aa7687748c0774dcf3994a461765e0895}} 
{\bfseries retransmission\+\_\+counter}
\item 
\mbox{\Hypertarget{classserver_1_1Server_ace7155eba1983c487479de5114642d4e}\label{classserver_1_1Server_ace7155eba1983c487479de5114642d4e}} 
{\bfseries window\+\_\+size}
\item 
\mbox{\Hypertarget{classserver_1_1Server_a1a25a0b508061b94922f06715bdd8cf0}\label{classserver_1_1Server_a1a25a0b508061b94922f06715bdd8cf0}} 
{\bfseries send\+\_\+head}
\item 
\mbox{\Hypertarget{classserver_1_1Server_ac9ceab188e523b45bf767e6dcfd6289a}\label{classserver_1_1Server_ac9ceab188e523b45bf767e6dcfd6289a}} 
{\bfseries sleep\+\_\+time}
\item 
\mbox{\Hypertarget{classserver_1_1Server_aabfc40c32a0795f66ee8b628c4e8df33}\label{classserver_1_1Server_aabfc40c32a0795f66ee8b628c4e8df33}} 
{\bfseries serv\+\_\+timeout}
\item 
\mbox{\Hypertarget{classserver_1_1Server_a2f0a04788035b7d5b01ed844739fb347}\label{classserver_1_1Server_a2f0a04788035b7d5b01ed844739fb347}} 
{\bfseries packet\+\_\+size}
\item 
\mbox{\Hypertarget{classserver_1_1Server_ad394e63f0d83104e795e58ff9dc4d339}\label{classserver_1_1Server_ad394e63f0d83104e795e58ff9dc4d339}} 
{\bfseries body\+\_\+size}
\item 
\mbox{\Hypertarget{classserver_1_1Server_ab860338a5fe6872054c17655328261fd}\label{classserver_1_1Server_ab860338a5fe6872054c17655328261fd}} 
{\bfseries buffer\+\_\+size}
\item 
\mbox{\Hypertarget{classserver_1_1Server_a3e8b8a80079c1c53a06bdc4fdbedcbbb}\label{classserver_1_1Server_a3e8b8a80079c1c53a06bdc4fdbedcbbb}} 
{\bfseries s}
\item 
\mbox{\Hypertarget{classserver_1_1Server_a72ec66c0231145a5c3fc53063bafe207}\label{classserver_1_1Server_a72ec66c0231145a5c3fc53063bafe207}} 
{\bfseries is\+\_\+fin\+\_\+acked}
\item 
\mbox{\Hypertarget{classserver_1_1Server_abea553dc1c576d50c9809c51447575f9}\label{classserver_1_1Server_abea553dc1c576d50c9809c51447575f9}} 
{\bfseries filename}
\item 
\mbox{\Hypertarget{classserver_1_1Server_a7f92a44d07f07b9e8a96ff432962980f}\label{classserver_1_1Server_a7f92a44d07f07b9e8a96ff432962980f}} 
{\bfseries total\+\_\+data}
\item 
\mbox{\Hypertarget{classserver_1_1Server_a38b6afa70511ead30bddf2ad6849ef9f}\label{classserver_1_1Server_a38b6afa70511ead30bddf2ad6849ef9f}} 
{\bfseries total\+\_\+packets}
\item 
\mbox{\Hypertarget{classserver_1_1Server_ad7aee12720ebb19d7d392295d05d7752}\label{classserver_1_1Server_ad7aee12720ebb19d7d392295d05d7752}} 
{\bfseries last\+\_\+received\+\_\+time}
\end{DoxyCompactItemize}
\doxysubsection*{Static Public Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classserver_1_1Server_aae126a23fe92ceb54d8fc73cade59ba5}\label{classserver_1_1Server_aae126a23fe92ceb54d8fc73cade59ba5}} 
{\bfseries mutex} = threading.\+Lock()
\item 
\mbox{\Hypertarget{classserver_1_1Server_a8314ab4305d25bbd620f09b8d4daca82}\label{classserver_1_1Server_a8314ab4305d25bbd620f09b8d4daca82}} 
string \mbox{\hyperlink{classserver_1_1Server_a8314ab4305d25bbd620f09b8d4daca82}{target\+\_\+host}} = \char`\"{}\char`\"{}
\begin{DoxyCompactList}\small\item\em target host \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classserver_1_1Server_a9eb1d678d6792026777e253c453a9185}\label{classserver_1_1Server_a9eb1d678d6792026777e253c453a9185}} 
int \mbox{\hyperlink{classserver_1_1Server_a9eb1d678d6792026777e253c453a9185}{target\+\_\+port}} = 0
\begin{DoxyCompactList}\small\item\em target\textquotesingle{}s port \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classserver_1_1Server_a90e54106f9c4bd4cd62a7705a5d019be}\label{classserver_1_1Server_a90e54106f9c4bd4cd62a7705a5d019be}} 
string \mbox{\hyperlink{classserver_1_1Server_a90e54106f9c4bd4cd62a7705a5d019be}{self\+\_\+host}} = \char`\"{}\char`\"{}
\begin{DoxyCompactList}\small\item\em self host \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classserver_1_1Server_a99a7c6d59eea04b2e1ce0289be6e74ae}\label{classserver_1_1Server_a99a7c6d59eea04b2e1ce0289be6e74ae}} 
int \mbox{\hyperlink{classserver_1_1Server_a99a7c6d59eea04b2e1ce0289be6e74ae}{self\+\_\+port}} = 0
\begin{DoxyCompactList}\small\item\em self port \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classserver_1_1Server_a95392a1c1c087c5c119cc22c879c7a99}\label{classserver_1_1Server_a95392a1c1c087c5c119cc22c879c7a99}} 
int \mbox{\hyperlink{classserver_1_1Server_a95392a1c1c087c5c119cc22c879c7a99}{total\+\_\+packets}} = 0
\begin{DoxyCompactList}\small\item\em total packets \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classserver_1_1Server_a8ceb0b262dda57ebd7e84f0b4f3bb274}\label{classserver_1_1Server_a8ceb0b262dda57ebd7e84f0b4f3bb274}} 
int \mbox{\hyperlink{classserver_1_1Server_a8ceb0b262dda57ebd7e84f0b4f3bb274}{number\+\_\+of\+\_\+acked\+\_\+packets}} = 0
\begin{DoxyCompactList}\small\item\em Number Of packets A\+C\+Ked. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classserver_1_1Server_a1fa25e645b73ba389314b4b4dcaab30b}\label{classserver_1_1Server_a1fa25e645b73ba389314b4b4dcaab30b}} 
int \mbox{\hyperlink{classserver_1_1Server_a1fa25e645b73ba389314b4b4dcaab30b}{last\+\_\+received\+\_\+time}} = 0
\begin{DoxyCompactList}\small\item\em Last recieved time. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classserver_1_1Server_a64455c0a29d203fcf27ca810dd9696d3}\label{classserver_1_1Server_a64455c0a29d203fcf27ca810dd9696d3}} 
int \mbox{\hyperlink{classserver_1_1Server_a64455c0a29d203fcf27ca810dd9696d3}{packet\+\_\+size}} = 300
\begin{DoxyCompactList}\small\item\em Size of each packet. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classserver_1_1Server_af0267b642e029775fe581b3c238dad85}\label{classserver_1_1Server_af0267b642e029775fe581b3c238dad85}} 
int \mbox{\hyperlink{classserver_1_1Server_af0267b642e029775fe581b3c238dad85}{body\+\_\+size}} = 200
\begin{DoxyCompactList}\small\item\em Size of the body. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classserver_1_1Server_a953ab625ffd209e4b2f6dc07ff2576d6}\label{classserver_1_1Server_a953ab625ffd209e4b2f6dc07ff2576d6}} 
int \mbox{\hyperlink{classserver_1_1Server_a953ab625ffd209e4b2f6dc07ff2576d6}{last\+\_\+sent\+\_\+index}} = 0
\begin{DoxyCompactList}\small\item\em Index of the last packet sent. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classserver_1_1Server_a911842589ad5a581bda91315223218c2}\label{classserver_1_1Server_a911842589ad5a581bda91315223218c2}} 
int \mbox{\hyperlink{classserver_1_1Server_a911842589ad5a581bda91315223218c2}{retransmission\+\_\+counter}} = 4
\begin{DoxyCompactList}\small\item\em the counter \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classserver_1_1Server_ae69a23880dbb3d2d0d09fce7212485ed}\label{classserver_1_1Server_ae69a23880dbb3d2d0d09fce7212485ed}} 
\mbox{\hyperlink{classserver_1_1Server_ae69a23880dbb3d2d0d09fce7212485ed}{ack\+\_\+array}} = list()
\begin{DoxyCompactList}\small\item\em Array whose indices are the packet packet numbers and the value stored is whether they are A\+C\+Ked or not. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classserver_1_1Server_aef9b464aa020996d874ab5241447f4ef}\label{classserver_1_1Server_aef9b464aa020996d874ab5241447f4ef}} 
\mbox{\hyperlink{classserver_1_1Server_aef9b464aa020996d874ab5241447f4ef}{all\+\_\+threads}} = list()
\begin{DoxyCompactList}\small\item\em All the thread --. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classserver_1_1Server_aae0910a5664e8c5ba948e7ad507ee6d7}\label{classserver_1_1Server_aae0910a5664e8c5ba948e7ad507ee6d7}} 
int \mbox{\hyperlink{classserver_1_1Server_aae0910a5664e8c5ba948e7ad507ee6d7}{sleep\+\_\+time}} = 3
\begin{DoxyCompactList}\small\item\em sleep time set for the threads \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classserver_1_1Server_a1783e2f843763a77f8214a1625fa2ec7}\label{classserver_1_1Server_a1783e2f843763a77f8214a1625fa2ec7}} 
int \mbox{\hyperlink{classserver_1_1Server_a1783e2f843763a77f8214a1625fa2ec7}{window\+\_\+size}} = 0
\begin{DoxyCompactList}\small\item\em Sliding window size. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classserver_1_1Server_aaa4564162124ba36b7c9099215c7677b}\label{classserver_1_1Server_aaa4564162124ba36b7c9099215c7677b}} 
int \mbox{\hyperlink{classserver_1_1Server_aaa4564162124ba36b7c9099215c7677b}{send\+\_\+head}} = 0
\begin{DoxyCompactList}\small\item\em Pointer to the packet to be sent. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classserver_1_1Server_a528b3328b1ba4aa5ecdd9cddc26127eb}\label{classserver_1_1Server_a528b3328b1ba4aa5ecdd9cddc26127eb}} 
int \mbox{\hyperlink{classserver_1_1Server_a528b3328b1ba4aa5ecdd9cddc26127eb}{send\+\_\+base}} = 0
\begin{DoxyCompactList}\small\item\em Pointer to the base packet of the sliding window on the sender side. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classserver_1_1Server_ad025a9633751834cd3e41bb0f0f83bef}\label{classserver_1_1Server_ad025a9633751834cd3e41bb0f0f83bef}} 
int \mbox{\hyperlink{classserver_1_1Server_ad025a9633751834cd3e41bb0f0f83bef}{serv\+\_\+timeout}} = 0
\begin{DoxyCompactList}\small\item\em server timeout \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classserver_1_1Server_a7ebd59f10051a4f70dbd0e97254e99ed}\label{classserver_1_1Server_a7ebd59f10051a4f70dbd0e97254e99ed}} 
int \mbox{\hyperlink{classserver_1_1Server_a7ebd59f10051a4f70dbd0e97254e99ed}{filename}} = 0
\begin{DoxyCompactList}\small\item\em Filename. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classserver_1_1Server_a8f9579f0016a3b2579feb0429e620eda}\label{classserver_1_1Server_a8f9579f0016a3b2579feb0429e620eda}} 
int {\bfseries buffer\+\_\+size} = 0
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\mbox{\hyperlink{classserver_1_1Server}{Server}} class. 

Listens for and then accepts the clients request for a file and sends the file using the R\+U\+DP protocol as designed in the project 

\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classserver_1_1Server_a98e62dd471ac478c5262e085ef9ad3f4}\label{classserver_1_1Server_a98e62dd471ac478c5262e085ef9ad3f4}} 
\index{server.Server@{server.Server}!\_\_init\_\_@{\_\_init\_\_}}
\index{\_\_init\_\_@{\_\_init\_\_}!server.Server@{server.Server}}
\doxysubsubsection{\texorpdfstring{\_\_init\_\_()}{\_\_init\_\_()}}
{\footnotesize\ttfamily def server.\+Server.\+\_\+\+\_\+init\+\_\+\+\_\+ (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{self\+\_\+host,  }\item[{}]{self\+\_\+port,  }\item[{}]{target\+\_\+host,  }\item[{}]{target\+\_\+port,  }\item[{}]{retransmission\+\_\+counter,  }\item[{}]{window\+\_\+size,  }\item[{}]{sleep\+\_\+time,  }\item[{}]{serv\+\_\+timeout = {\ttfamily 30},  }\item[{}]{packet\+\_\+size = {\ttfamily 10024},  }\item[{}]{buffer\+\_\+size = {\ttfamily 6},  }\item[{}]{body\+\_\+size = {\ttfamily 8000} }\end{DoxyParamCaption})}



The constructor for the \mbox{\hyperlink{classserver_1_1Server}{Server}} class. 

This constructor fills in the values for the class variables and starts with the process of sending the file to the client. It reads the filename from the request and starts reading the file in the folder and encodes it using base64. It then starts sending the encoded file in packets of defined size. It creates threads for sending each of the packets and then wait for A\+C\+Ks and acts accordingly based on the response. After all the packets have been sent and A\+C\+Ked the process of terminating the connection starts and then the connection between server and client is closed.


\begin{DoxyParams}{Parameters}
{\em self} & is the object pointer \\
\hline
{\em self\+\_\+host} & server ip \\
\hline
{\em self\+\_\+port} & server port \\
\hline
{\em target\+\_\+host} & client ip \\
\hline
{\em target\+\_\+port} & client port \\
\hline
{\em retransmission\+\_\+counter} & number of times retransmitted \\
\hline
{\em window\+\_\+size} & window size \\
\hline
{\em sleep\+\_\+time} & sleep time\+: waiting time for an acknowledgement \\
\hline
{\em serv\+\_\+timeout} & server timeout time in seconds \\
\hline
{\em packet\+\_\+size} & packet size \\
\hline
{\em body\+\_\+size} & body size \\
\hline
{\em buffer\+\_\+size} & buffer size \\
\hline
\end{DoxyParams}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classserver_1_1Server_a9d75b9581aca39142e109b5950de18fc}\label{classserver_1_1Server_a9d75b9581aca39142e109b5950de18fc}} 
\index{server.Server@{server.Server}!end\_connection@{end\_connection}}
\index{end\_connection@{end\_connection}!server.Server@{server.Server}}
\doxysubsubsection{\texorpdfstring{end\_connection()}{end\_connection()}}
{\footnotesize\ttfamily def server.\+Server.\+end\+\_\+connection (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



end\+\_\+connection Method 


\begin{DoxyParams}{Parameters}
{\em self} & is the object pointer\\
\hline
\end{DoxyParams}
This method when invoked initiates the closing of the connection between the server and the client \mbox{\Hypertarget{classserver_1_1Server_a80517428a6623d6256cc04021c407e4b}\label{classserver_1_1Server_a80517428a6623d6256cc04021c407e4b}} 
\index{server.Server@{server.Server}!global\_timer@{global\_timer}}
\index{global\_timer@{global\_timer}!server.Server@{server.Server}}
\doxysubsubsection{\texorpdfstring{global\_timer()}{global\_timer()}}
{\footnotesize\ttfamily def server.\+Server.\+global\+\_\+timer (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



global\+\_\+timer Method 


\begin{DoxyParams}{Parameters}
{\em self} & is the object pointer\\
\hline
\end{DoxyParams}
A global timer that is run to check for timeouts. \mbox{\Hypertarget{classserver_1_1Server_a20d2b89e22c9e032155af2bbf0c53527}\label{classserver_1_1Server_a20d2b89e22c9e032155af2bbf0c53527}} 
\index{server.Server@{server.Server}!listen\_for\_ack@{listen\_for\_ack}}
\index{listen\_for\_ack@{listen\_for\_ack}!server.Server@{server.Server}}
\doxysubsubsection{\texorpdfstring{listen\_for\_ack()}{listen\_for\_ack()}}
{\footnotesize\ttfamily def server.\+Server.\+listen\+\_\+for\+\_\+ack (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



listen\+\_\+for\+\_\+ack Method 


\begin{DoxyParams}{Parameters}
{\em self} & is the object pointer\\
\hline
\end{DoxyParams}
This method is invoked to listen for A\+C\+Ks from the client after sending packets \mbox{\Hypertarget{classserver_1_1Server_a4275b69285af18cc6312dbae8f59ba0a}\label{classserver_1_1Server_a4275b69285af18cc6312dbae8f59ba0a}} 
\index{server.Server@{server.Server}!send\_this\_packet@{send\_this\_packet}}
\index{send\_this\_packet@{send\_this\_packet}!server.Server@{server.Server}}
\doxysubsubsection{\texorpdfstring{send\_this\_packet()}{send\_this\_packet()}}
{\footnotesize\ttfamily def server.\+Server.\+send\+\_\+this\+\_\+packet (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{packet\+\_\+no }\end{DoxyParamCaption})}



send\+\_\+this\+\_\+packet Method 


\begin{DoxyParams}{Parameters}
{\em self} & is the object pointer \\
\hline
{\em packet\+\_\+no} & is the packet number to be sent among all the packets\\
\hline
\end{DoxyParams}
This method when invoked creates the packet, send it and waits for an A\+CK. Based on the response from the client, the method acts accordingly (as specified in the design documentation) 

The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
server.\+py\end{DoxyCompactItemize}
